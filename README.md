# 111年度資料庫程式設計作業

## 投票 / 問卷系統
**請建立一個投票或問卷系統可以提供投票或問卷功能，並能查看結果**

### 動作要求
1. 網頁共用部分
    * 主畫面切割為上下兩塊及左小右大兩塊，共四塊組成。
        * 上方為標題圖片及選單列。
        * 中左為會員登入狀態及日期時間。
        * 中右為主要內容區
        * 下方為公司名稱及頁尾版權宣告或聯絡方式。
    * 選單列有以下內容
        * 回首頁
        * 投票列表按鈕
        * 會員中心(後台管理)

2. 網頁結構
    * 網頁分為三大類
        * 首頁 : 無論是否有會員身分、何目的都是從首頁進入在進行後續操作。
        * 前端部分 : 主要是給使用者檢視、新增、修改、刪除投票內容及結果展示。
        * 後端部分 : 針對前端部分使用者的需求做出相對應的動作，再將結果回傳呈現到前端。

3. 使用者端
    * 進入首頁時，可以看到投票項目列表。
    * 可以選擇想要了解的項目列表進行點選。
    * 未登入的使用者只能看到投票的內容以及結果。
    * 已登入的使用者可以看到投票內容、結果以及"我要投票"按鈕。
    * 若投票尚在有效時間內則顯示"我要投票"按鈕；否則不顯示 => 無法投票。
    * 按下"我要投票"按鈕會導引到相對應的投票頁面顯示投票選項。
    * 選擇選項後，按送出，完成投票並跳至投票結果頁。
    * 投票結果頁面有一顆按鈕可以返回首頁。
    * 可以選擇類別來只顯示該類別的投票列表。
    * 投票列表以分頁表示。
    * 每個投票項目一天只能投一次票。

4. 管理者端
    * 只有會員身分才能進入管理者端。
    * 登入後可以看到所有的投票列表(包含關閉狀態)。
    * 會員在會員中心會有"新增投票"按鈕。
    * 點選新增投票後進入新增投票表單頁面。
    * 選項可以動態增加
        * 在主題旁有一個"增加選項"的按鈕。
        * 每按一次"增加選項"就會在上方增加一個項目。
        * 可以刪除選項。
    * 完成設定後按下"完成新增"，即增加一個投票主題。
    * 可查看投票結果(含統計分析)。
    * 可將投票設為 開啟或關閉狀態(關閉狀態前台看不到)。

5. 待增加功能
    * 只有自己新增的投票才能做修改刪除的功能，否則只能檢視內容及投票。
    * 更多的美化(bootstrap的應用)。
    * 待補充...

5. 設計相關資料表
    * 資料表一(users)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |id|int|V||V||
        |acc|varchar||||帳號|
        |pw|varchar||||密碼|
        |name|varchar||||性名|
        |gender|tinyint||1||性別|
        |birthday|date||||生日|
        |email|varchar||||電郵|
        |education|varchar||||學歷|
        |pwnote|text||||密碼備忘錄|
        |creattime|datetime||current_timestamp()||建立時間|

    * 資料表二(votes)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |id|int|V||V||
        |votename|varchar||||投票項目名稱|
        |categoryid|int||||類別ID|
        |multiple|tinyint||1||單選|
        |multiples|tinyint||0||複選|
        |start|datetime||||開始日期|
        |end|datetime||||截止日期|
        |total|int||||投票總人數|
        |show|tinyint||1||顯示開啟或關閉|

    * 資料表三(voted)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |id|int|V||V||
        |usersip|int||||使用者IP|
        |votesid|int||||投票項目ID|
        |votetime|date||current_timestamp()	||投票時間|

    * 資料表四(options)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |id|int|V||V||
        |options|varchar||||選項名稱|
        |voteid|int||||對應投票項目ID值|
        |total|int||||該選項點擊數|

    * 資料表五(categorys)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |id|int|V||V||
        |categorys|varchar||||類別名稱|
    
3. 請充分運用學到的各項網頁知識來美化這個投票系統的畫面
    * html標籤的應用(語意標籤、表單、表格、分隔線、標頭..etc)
    * css的應用(行內、內嵌、外連、flexbox、偽元素、動畫..etc)
    * bootstrap的應用(排版功能、元件、類別..etc)-暫未加入
    * javascript or jQuery的應用(DOM的操作、CSS的切換)

4. 請上傳至220的伺服器個人空間，並自行建立所需資料表
   
5. 請將完成品前後台及功能截圖五張放在ScreenShot資料夾下


### 必備要求
**後台功能**
* 請設計一個頁面可以用來輸入投票的題目
* 可以控制題目的啟用與關閉

**前台功能**
* 請設計一個頁面可以看到目前進行投票的項目
* 可以進行投票
* 請設計一個頁面可以看到投票統計的結果

**進階功能**
* 請整合註冊及登入系統
* 能以長條圖或圖像化的方式來呈現統計的結果
* 能判斷使用者的狀態，避免重覆投票

## 評量時間
2022-07-15(星期五)